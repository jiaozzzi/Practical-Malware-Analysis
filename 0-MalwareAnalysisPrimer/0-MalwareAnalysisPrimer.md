# 0 - 恶意代码分析技术入门

## 恶意代码分析目标

恶意代码分析目标的目标，通常是为一起网络入侵事件的相应提供所需信息。

目标：确定到底发生了什么 / 定位所有受感染的主机和文件 / 确定一个特定的可疑二进制程序到底可以做什么 / 如何在网络上检测它 / 如何衡量并消除它所带来的损害

 ----- 检测特征码

- 基于主机的特征码 / 感染迹象，用于在受感染主机上检测出恶意代码。

  迹象 : 

  - 恶意代码所创建 / 修改的文件
  - 对注册表的特定修改

  与病毒特征码（更关注恶意代码本身的特性）不同，恶意代码感染迹象更关注恶意代码对系统做了什么。

- 网络特征码，通过监测网络流量来检测恶意代码。

## 恶意代码分析技术

- 静态分析

  - 静态分析基础技术

    检查可执行文件 / 不查看具体指令。可以确认一个文件是否是恶意的，提供有关其功能的信息，生成简单的网络特征码。

  - 静态分析高级技术

    对恶意代码内部机制的逆向工程。将可执行文件 --- > 反汇编器，查看程序指令，来发现恶意代码到底做了什么。

- 动态分析

  - 动态分析基础技术

    运行恶意代码 / 观察系统上的行为 / 移除感染 / 产生有效的检测特征码

    要建立安全环境

  - 动态分析高级技术

    使用调试器来检查一个恶意可执行程序运行时刻的内部状态 / 从可执行文件中抽取详细信息

## 恶意代码类型

- 后门

  恶意代码将自身安装到计算机 --- 允许攻击者远程访问 / 让攻击者无需认证，连接到远程计算机，在本地系统执行命令

- 僵尸网络

  被感染的计算机 bot 接收 C&C（control and command）的命令并执行

- 下载器

  下载并安装其他恶意代码的恶意代码

- 间谍软件

  从受害计算机上收集信息发送给攻击者。嗅探器 / 键盘记录器 / 密码哈希采集器

- 启动器

  启动其他恶意程序的恶意代码。使用非传统技术来启动其他恶意程序，确保隐蔽性or以更高的权限访问系统

- 内核套件

  用来隐藏其他恶意代码的恶意代码。内核套件通常是与其他恶意代码组合成工具套装，来为攻击者提供远程访问，并使代码很难被受害者发现

- 勒索软件

  勒索受害用户购买某些东西的恶意代码

- 发送垃圾邮件的恶意代码

  使用系统与网络资源来发送大量垃圾邮件。为攻击者出售垃圾邮件发送服务获得收益

- 蠕虫或计算机病毒

  可以自我复制和感染其他计算机的恶意代码

## 恶意代码分析通用规则

- 不要太过于陷入细节
- 对不同的工作任务，可以使用不同的工具和方法
- 像是一个猫抓老鼠的游戏 



